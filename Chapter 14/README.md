# Chapter 14: 분산형 공유 변수

- 분산형 공유 변수
    - RDD 외에도 두 번째 저수준 API 유형
    - 두 개의 타입
        - 브로드캐스트 변수
            - 모든 워커 노드에 큰 값을 저장하여 재전송 없이 많은 액션에서 재사용 가능
        - 어큐뮬레이터
            - 모든 태스크의 데이터를 공유 결과에 추가할 수 있음

### 14.1 브로드캐스트 변수

- 불변값을 클로저 함수의 변수로 캡슐화하지 않고 클러스터에서 공유하는 방법 제공
- 태스크마다 직렬화하지 않고 클러스터의 모든 머신에 캐시
- 클로저에 변수를 담아 전달하는 것보다 효율적

### 14.2 어큐뮬레이터

- 트랜스포메이션 내부의 다양한 값 갱신에 사용
- 내고장성을 보장하고 효율적인 방식으로 드라이버에 값 전달
- 스파크 클러스터에서 로우 단위로 안전하게 값을 갱신할 수 있는 변경 가능한 변수 제공
    - 디버깅용이나 저수준 집계 생성용으로 사용
- 어큐뮬레이터의 값은 액션을 처리하는 과정에서만 생성
- 스파크는 각 태스크에서 어큐뮬레이터를 한 번만 갱신하도록 제어
    - 지연 연산 모델에 영향을 주지 않고 액션이 실행되는 시점에 한 번 갱신